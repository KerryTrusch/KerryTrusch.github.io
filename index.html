<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Multiple object detection using pre trained model in TensorFlow.js</title>
    <meta charset="utf-8">
    <!-- Import the webpage's stylesheet -->
    <link rel="stylesheet" href="style.css">
  </head>  
  <body>
    <h1>Webcam Object Detection</h1>

    <p>Please wait for the model to finish loading before enabling your webcam. The button below will become visible once it has finished loading.</p>
    
    <section id="demos" class="invisible">
      <div class="text-container">
        <p class="middle">Select some objects to be tagged from the dropdown below, and then hold them up to the camera! When ready click "enable webcam" below and accept access to the webcam when the browser asks (check the top left of your window)</p>
      </div>
      <div class="camContainer">
        <div id="liveView" class="camView">
          <div class="webcam-and-dropdown" id="tempLive">
            <video id="webcam" autoplay muted width="640" height="480"></video>          
          </div>
          <button id="webcamButton" class="webcamButton">Enable Webcam</button>
          <div style="display: flex; flex-direction:column; max-width: 640px;">
            <span style="color:white; width:75%; text-align: center; margin: 10px auto;"> Want a text notification if your object has been found (maybe you dont want your dog on your bed)? Input your phone number below. You will only recieve one text message per day due to rate limits. </span>
            <span style="color:red; display: none;" id="errorText"> Improperly formatted number. Ensure there are no dashes or non-digit characters. </span>
            <input placeholder="*** *** ****" style="border: none; border-radius:2px; padding: 4px; width: 25%; margin:10px auto;" id="number"/>
            <button class="webcamButton" id="phoneButton" onclick="saveNumber()"> Submit phone number </button>
            <div style="display: flex;">
              <div style="margin-right: auto; margin-left: 20px;">
                <div class="dropdown">
                  <button onclick="showDropdown()" class="dropbtn"><div style="display: flex;">Add Item <img style="width: 25%; height:25%; margin: auto 0;" src="down-svg.svg"/></div> </button>
                  <div id="myDropdown" class="dropdown-content">
                    <input type="text" placeholder="Search.." id="myInput" onkeyup="filterFunction()">
                  </div>
                </div>
              </div>
              <div style="margin-left: auto; margin-right: 20px;">
                <div class="current-filtered-items" id="current-filtered-items"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Import TensorFlow.js library -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs/dist/tf.min.js" type="text/javascript"></script>
    <!-- Load the coco-ssd model to use to recognize things in images -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"></script>
    
    <!-- Import the page's JavaScript to do some stuff -->
    <script src="script.js" defer></script>
  </body>
</html>
